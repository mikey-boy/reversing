#include <stdio.h>
#include <cstdlib>

// Test string: abcdefghijklmnopwrstuvwxyzAB encrypted to "ZXVTRPNLJHFDBACEGIKMOQSUWY! 
//unsigned char bytes[] = {0x22,0x5a,0x58,0x56,0x54,0x52,0x50,0x4e,0x4c,0x4a,0x48,0x46,0x44,0x42,0x41,0x43,0x45,0x47,0x49,0x4b,0x4d,0x4f,0x51,0x53,0x55,0x57,0x59,0x21};


int main() {
    unsigned int len = 28;
    unsigned char bytes[] = {0x5d,0x10,0x14,0x4c,0x43,0x10,0x43,0x4e,
                            0x4d,0x14,0x3f,0x47,0x4c,0x34,0x23,0x26,
                            0x41,0x5b,0x28,0x52,0x10,0x11,0x3f,0x53,
                            0x11,0x4c,0x54,0x52};
    printf("Encrypted: %s\n",bytes);
    
    char * pt = (char *) malloc(sizeof(char) * len);
    int pos = 0;
    for (int i=0; i<len/2; i+=1) {      // Letters are encoded from center outwards
        pt[pos] = bytes[len/2+i];       // abcdef -> fdbace
        pt[pos+1] = bytes[len/2-i-1];
        pos += 2;
    }

    for (int i = 0; i < len; ++i)       // Ceaser Cipher: We add 0x20 (32) to each character
        pt[i] += 0x20;

    printf("Decrypted: %s", pt);
}
